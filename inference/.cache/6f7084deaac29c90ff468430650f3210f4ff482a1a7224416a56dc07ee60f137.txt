def save_db(con, id, commit):
    sql = None
    statement = None
    try:
        statement = con.createStatement()
        if id < 0:
            id = QueryUtils.sequenceGetNextID(con, "PATTERN_OUTLINE")
        else:
            delete_db(con, id)
        sql = "insert into PATTERN_OUTLINE values ("
        sql += str(id)
        sql += ","
        sql += str(XColor.toInt(pattern.getPatternColor()))
        sql += ","
        sql += str(pattern.getPatternStyle())
        sql += ","
        sql += str(pattern.getPatternDensity())
        sql += ","
        sql += str(XColor.toInt(pattern.getBackgroundColor()))
        sql += ","
        sql += str(XColor.toInt(outline.getColor()))
        sql += ","
        sql += str(outline.getStyle())
        sql += ","
        sql += str(outline.getWidth())
        sql += ")"
        statement.executeUpdate(sql)
        sql = None
        if commit:
            con.commit()
    except SQLException as e:
        print(getClassName(e) + ":" + str(e) + " SQL:=" + sql)
        if commit:
            con.rollback()
        raise e
    finally:
        if statement is not None:
            try:
                statement.close()
            except SQLException:
                pass
    return save_db(con, id, False)